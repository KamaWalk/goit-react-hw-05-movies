"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[322],{322:function(e,t,r){function n(e,t,r,n,s,a,i){try{var o=e[a](i),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,s)}r.r(t),r.d(t,{default:function(){return x}});var s=r(439),a=r(311),i=r.n(a),o=r(791),c=r(87),u="Movies_searchedMovies__8Gq3l",l="Movies_searchedMoviesList__FVF-d",h="Movies_searchedMoviesItem__IpacK",p=r(417),v="SearchForm_searchedMoviesInput__M9+mP",d="SearchForm_searchedMoviesButton__SSuYN",m="SearchForm_inputDiv__Z6Mui",f=r(184);var _=function(e){var t=e.onSubmit,r=(0,o.useState)(""),n=(0,s.Z)(r,2),a=n[0],i=n[1];return(0,f.jsx)("div",{className:m,children:(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a.trim())},children:[(0,f.jsx)("input",{className:v,type:"text",value:a,onChange:function(e){return i(e.target.value)},placeholder:"Enter search keyword"}),(0,f.jsx)("button",{className:d,type:"submit",children:"Search"})]})})};var x=function(){var e=(0,o.useState)({query:""}),t=(0,s.Z)(e,2),r=t[0],a=t[1],v=(0,o.useState)([]),d=(0,s.Z)(v,2),m=d[0],x=d[1],b=(0,o.useState)(!1),j=(0,s.Z)(b,2),y=j[0],S=j[1];return(0,o.useEffect)((function(){var e=function(){var e,t=(e=i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.query){e.next=2;break}return e.abrupt("return");case 2:return S(!0),e.prev=3,e.next=6,fetch("https://api.themoviedb.org/3/search/movie?api_key=4fed94ef3da30bdec32e141a4ca83f86&query=".concat(encodeURIComponent(r.query)));case 6:return t=e.sent,e.next=9,t.json();case 9:n=e.sent,x(n.results),S(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error("Error searching movies:",e.t0),S(!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})),function(){var t=this,r=arguments;return new Promise((function(s,a){var i=e.apply(t,r);function o(e){n(i,s,a,o,c,"next",e)}function c(e){n(i,s,a,o,c,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[r]),(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)("h1",{children:"Search Movies"}),(0,f.jsx)(_,{onSubmit:function(e){a({query:e})}}),y?(0,f.jsx)(p.Z,{}):(0,f.jsx)("ul",{className:l,children:m.map((function(e){return(0,f.jsx)("li",{className:h,children:(0,f.jsxs)(c.rU,{to:"/movies/".concat(e.id),state:{from:"Movies"},children:[(0,f.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w200".concat(e.poster_path):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700",alt:e.title,style:{width:"200px"}}),!e.poster_path&&(0,f.jsx)("div",{children:"Movie poster not yet available"}),(0,f.jsx)("div",{children:e.title})]})},e.id)}))})]})}}}]);
//# sourceMappingURL=322.69a3e444.chunk.js.map